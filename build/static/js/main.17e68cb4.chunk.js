(this.webpackJsonpdebot_browser=this.webpackJsonpdebot_browser||[]).push([[0],{3:function(e,t){e.exports={EXPLORER_BASE_URL:"https://ton.live/accounts/accountDetails?id=",DB_CONTENT_TYPES:{DEBOT:"debot"},COMPONENTS_BINDINGS:{TEXT:"Text",INPUT:"Input",TEXTAREA:"Textarea",AMOUNT_INPUT:"AmountInput",CONFIRM_INPUT:"ConfirmInput",ADDRESS_INPUT:"AddressInput",TOKENS_INPUT:"TokensInput",MENU:"Menu",STDOUT:"Stdout"},DEBOT_ADDRESS_SEARCH_PARAM:"debotAddress",DEBOT_WC:-31,MNEMONIC_WORD_COUNT:12,DERIVATION_PATH:"m/44'/396'/0'/0/0",USER_DEBOTS_LS_FIELD:"USER_DEBOTS_LS_FIELD",USER_ENV_LS_FIELD:"USER_ENV_LS_FIELD"}},37:function(e,t,n){"use strict";(function(e){t.a=function(t){if("string"===typeof t){var n=e.from(t,"hex").toString();return console.log(n),n}}}).call(this,n(60).Buffer)},56:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(24),s=n.n(c),o=n(11),i=n(16),u=n(17),l=n(44),d=n(5),p=n(28),b="debot/PUSH_ITEM_TO_STAGE",f="debot/CLEAR_STAGE",v="debot/SET_SIGNING_BOX",m="debot/SET_APPROVE_WINDOW",h="debot/FILTER_DEBOTS_LIST_BY_NAME",j="debot/SET_LOCAL_DEBOTS_LIST",O=function(e){return function(t){t({type:b,payload:e})}},_=function(){return function(e){e({type:f})}},x=function(e){return function(t){t({type:v,payload:e})}},g=function(e){return function(t){t({type:m,payload:e})}},N=function(e){return function(t){t({type:h,payload:e})}},w=function(e){return function(t){t({type:j,payload:e})}},y=n(3),I={stage:[],signingBox:null,approveWindow:null,debotsList:[{title:"TIP-3 DeBot",address:"0:81c12c2f4514124536aafea59db7df0262d3af877b4477afe6514bbc5bc9f317"},{title:"SMV DeBot (RSquad)",address:"0:2a92e3d01c530697a0ec3ab5c3494474faa7ea0af5fa30d4ed508115bc9957a7"}],localDebotsList:JSON.parse(localStorage.getItem(y.USER_DEBOTS_LS_FIELD))||[]};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case b:var r=[].concat(Object(p.a)(e.stage),[a]);return Object(d.a)(Object(d.a)({},e),{},{stage:r});case f:return Object(d.a)(Object(d.a)({},e),{},{stage:[]});case v:return Object(d.a)(Object(d.a)({},e),{},{signingBox:a});case m:return Object(d.a)(Object(d.a)({},e),{},{approveWindow:a});case h:var c=a.toLowerCase(),s=I.debotsList.filter((function(e){return e.title.toLowerCase().startsWith(c)}));return Object(d.a)(Object(d.a)({},e),{},{debotsList:s});case j:return Object(d.a)(Object(d.a)({},e),{},{localDebotsList:a});default:return e}},E="debot/ADD_ENVIRONMENT_VARIABLES",S=function(e){return function(t){t({type:E,payload:e})}},T={variables:JSON.parse(localStorage.getItem(y.USER_ENV_LS_FIELD))||{}};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case E:return Object(d.a)(Object(d.a)({},e),{},{variables:a});default:return e}},C=Object(u.c)({debot:k,environment:D}),B=[l.a],A=u.d.apply(void 0,[u.a.apply(void 0,B)].concat([])),P=Object(u.e)(C,{},A),L=n(10),M=(n(56),n(0)),R=function(){return Object(M.jsx)("div",{className:"app-container",children:Object(M.jsxs)("div",{className:"app-container__flex-wrapper",children:[Object(M.jsx)(be,{}),Object(M.jsxs)(L.d,{children:[Object(M.jsx)(L.b,{exact:!0,path:"/",component:ve}),Object(M.jsx)(L.b,{path:"/debot",component:$e})]})]})})},U=function(e){var t=e.onClick,n=void 0===t?function(){return!1}:t;return Object(M.jsxs)("svg",{className:"lens-icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:n,children:[Object(M.jsx)("path",{d:"M16.8881 8.72414C16.8881 13.2678 13.2179 16.9483 8.69405 16.9483C4.17023 16.9483 0.5 13.2678 0.5 8.72414C0.5 4.18044 4.17023 0.5 8.69405 0.5C13.2179 0.5 16.8881 4.18044 16.8881 8.72414Z",stroke:"#6F6F6F"}),Object(M.jsx)("line",{y1:"-0.5",x2:"9.63903",y2:"-0.5",transform:"matrix(0.705884 0.708327 -0.705884 0.708327 14.3643 15.1724)",stroke:"#6F6F6F"})]})},F=function(){return Object(M.jsx)("svg",{className:"back-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(M.jsx)("path",{d:"M11.0156 2L3.00018 10.0154L11.0156 18.0309",stroke:"#5287C3",strokeWidth:"3"})})},W=function(e){var t=e.onClick,n=void 0===t?function(){return!1}:t;return Object(M.jsxs)("svg",{className:"cancel-icon",onClick:n,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(M.jsx)("path",{d:"M9.99902 2L1.99989 9.99914",stroke:"#BABABA",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(M.jsx)("path",{d:"M2.00098 2L10.0001 9.99914",stroke:"#BABABA",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},G=n(2),K=n.n(G),J=n(4),V=n(6);var X=function(e,t){var n=JSON.parse(localStorage.getItem(y.USER_DEBOTS_LS_FIELD))||[],a=[{label:e,address:t}].concat(Object(p.a)(n));P.dispatch(w(a)),localStorage.setItem(y.USER_DEBOTS_LS_FIELD,JSON.stringify(a))},H=n(14);var q=function(e,t){var n=JSON.parse(localStorage.getItem(y.USER_ENV_LS_FIELD))||{},a=Object(d.a)(Object(d.a)({},n),{},Object(H.a)({},e,t));P.dispatch(S(a)),localStorage.setItem(y.USER_ENV_LS_FIELD,JSON.stringify(a))},Y=n(37);var z=function(e){if("string"===typeof e)return unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join("")};var Z=function(e){return"/debot?debotAddress=".concat(e)};var $=function(e){return"".concat(y.EXPLORER_BASE_URL).concat(e)},Q=n(22),ee=n(46);Q.TonClient.useBinaryLibrary(ee.a);var te=new Q.TonClient({network:{server_address:"net.ton.dev"}});function ne(){return(ne=Object(J.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.utils.convert_address({address:t,output_format:{type:"Hex"}});case 3:return n=e.sent,e.abrupt("return",!!n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ae=function(e){return ne.apply(this,arguments)};var re=function(e){return"0x".concat(parseInt(e,10).toString(16))};function ce(){return(ce=Object(J.a)(K.a.mark((function e(t){var n,a,r,c,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.crypto.hdkey_xprv_from_mnemonic({dictionary:1,word_count:y.MNEMONIC_WORD_COUNT,phrase:t});case 2:return n=e.sent,e.next=5,te.crypto.hdkey_derive_from_xprv_path({xprv:n.xprv,path:y.DERIVATION_PATH});case 5:return a=e.sent,e.next=8,te.crypto.hdkey_secret_from_xprv({xprv:a.xprv});case 8:return r=e.sent,c=r.secret,e.next=12,te.crypto.nacl_sign_keypair_from_secret_key({secret:c});case 12:return s=e.sent,e.abrupt("return",{secret:c,public:s.public});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){return ce.apply(this,arguments)};var oe=function(e){var t=(JSON.parse(localStorage.getItem(y.USER_DEBOTS_LS_FIELD))||[]).filter((function(t){return t.address!==e}));P.dispatch(w(t)),localStorage.setItem(y.USER_DEBOTS_LS_FIELD,JSON.stringify(t))};var ie=function(e){var t=JSON.parse(localStorage.getItem(y.USER_ENV_LS_FIELD))||{},n=Object(d.a)({},t);delete n[e],P.dispatch(S(n)),localStorage.setItem(y.USER_ENV_LS_FIELD,JSON.stringify(n))};var ue=function(){return"Win32"===navigator.platform||"Win64"===navigator.platform};var le=function(){return new URLSearchParams(Object(L.h)().search)};var de=function(){return le().get(y.DEBOT_ADDRESS_SEARCH_PARAM)},pe=(n(75),function(){var e=Object(L.g)(),t=Object(o.c)(),n=Object(a.useState)(""),r=Object(V.a)(n,2),c=r[0],s=r[1],i=function(){var n=Object(J.a)(K.a.mark((function n(){var a;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae(c);case 2:if(!n.sent){n.next=7;break}return a=Z(c),t(N("")),n.abrupt("return",e.push(a));case 7:t(N(c));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"search-bar-container",children:[Object(M.jsx)("input",{className:"search-bar-container__input",type:"text",placeholder:"Enter debot address",value:c,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){var t=e.shiftKey,n=e.key,a=e.altKey;"Enter"===n&&!t&&!a&&(e.preventDefault(),i())}}),Object(M.jsx)(U,{onClick:i})]})}),be=(n(76),function(){var e=Object(L.i)("/debot");return Object(M.jsxs)("header",{className:"header-container",children:[Object(M.jsx)(i.b,{to:"/",children:Object(M.jsx)("h1",{children:"Free TON DeBot Browser"})}),e&&Object(M.jsxs)(i.b,{to:"/",className:"header-container__back-button",children:[Object(M.jsx)(F,{}),Object(M.jsx)("p",{children:"Back"})]}),Object(M.jsx)(pe,{})]})}),fe=function(e){var t=e.debot,n=e.isGrey,a=Z(t.address),r="debots-list__item ".concat(n?"debots-list__item--grey":"");return Object(M.jsxs)(i.b,{to:a,className:r,children:[Object(M.jsx)("div",{className:"debots-list__item-title",children:t.label||t.title}),Object(M.jsx)("div",{className:"debots-list__item-address",children:t.address})]})},ve=(n(77),function(){var e=Object(o.d)((function(e){return e.debot.debotsList})),t=Object(o.d)((function(e){return e.debot.localDebotsList}));return Object(M.jsxs)("div",{className:"debots-list",children:[Object(M.jsxs)("div",{className:"debots-list__controls",children:[Object(M.jsx)(ct,{name:"Add DeBot",children:Object(M.jsx)(at,{})}),Object(M.jsx)(ct,{height:464,width:660,name:"Show Environment",children:Object(M.jsx)(rt,{})})]}),!!t.length&&Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)("div",{className:"debots-list__section-title",children:"Your saved DeBots"}),t.map((function(e,t){return Object(M.jsx)(fe,{isGrey:t%2===0||0===t,debot:e},"".concat(e.address,"-").concat(t))}))]}),!!e.length&&Object(M.jsxs)(a.Fragment,{children:[Object(M.jsx)("div",{className:"debots-list__section-title",children:"Suggested DeBots"}),e.map((function(e,t){return Object(M.jsx)(fe,{isGrey:t%2===0||0===t,debot:e},"".concat(e.address,"-").concat(t))}))]}),!e.length&&!t.length&&Object(M.jsx)(st,{isFailed:!0})]})}),me=n(8),he=n(9),je={"ABI version":2,header:["time"],functions:[{name:"input",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"multiline",type:"bool"}],outputs:[{name:"value",type:"bytes"}]},{name:"inputStr",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"multiline",type:"bool"}],outputs:[{name:"value",type:"bytes"}]},{name:"inputInt",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"int256"}]},{name:"inputUint",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"uint256"}]},{name:"inputTons",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"uint128"}]},{name:"inputBoolean",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"bool"}]},{name:"print",inputs:[{name:"answerId",type:"uint32"},{name:"message",type:"bytes"}],outputs:[]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},Oe={"ABI version":2,header:["time"],functions:[{name:"select",inputs:[{name:"title",type:"bytes"},{name:"description",type:"bytes"},{components:[{name:"title",type:"bytes"},{name:"description",type:"bytes"},{name:"handlerId",type:"uint32"}],name:"items",type:"tuple[]"}],outputs:[{name:"index",type:"uint32"}]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},_e={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"decimals",type:"uint8"},{name:"min",type:"uint128"},{name:"max",type:"uint128"}],outputs:[{name:"value",type:"uint128"}]}],data:[],events:[]},xe={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"bool"}]}],data:[],events:[]},ge={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"address"}]},{name:"select",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value",type:"address"}]}],data:[],events:[]},Ne={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"min",type:"int256"},{name:"max",type:"int256"}],outputs:[{name:"value",type:"int256"}]}],data:[],events:[]},we={"ABI version":2,header:["time"],functions:[{name:"echo",inputs:[{name:"answerId",type:"uint32"},{name:"request",type:"bytes"}],outputs:[{name:"response",type:"bytes"}]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},ye={"ABI version":2,header:["time"],functions:[{name:"print",inputs:[{name:"message",type:"bytes"}],outputs:[]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},Ie=function(){function e(){Object(me.a)(this,e),this.id="8796536366ee21852db56dccb60bc564598b618c865fc50c8b1ab740bba128e3",this.abi=je}return Object(he.a)(e,[{key:"inputStr",value:function(e){var t=e.value,n=t.answerId,a=t.multiline,r=t.prompt,c={text:Object(Y.a)(r),functionId:n,component:a?y.COMPONENTS_BINDINGS.TEXTAREA:y.COMPONENTS_BINDINGS.INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(c))}},{key:"inputInt",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object(Y.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.AMOUNT_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(r))}},{key:"inputTons",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object(Y.a)(a),functionId:n,config:{min:"0",decimals:"9"},component:y.COMPONENTS_BINDINGS.TOKENS_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(r))}},{key:"inputBoolean",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object(Y.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.CONFIRM_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(r))}},{key:"print",value:function(e){var t=e.value,n=t.answerId,a=t.message,r={text:Object(Y.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.TEXT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(r))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="input"===e.t0?8:"inputStr"===e.t0?9:"inputInt"===e.t0?10:"inputUint"===e.t0?11:"inputTons"===e.t0?12:"inputBoolean"===e.t0?13:"print"===e.t0?14:15;break;case 8:case 9:return e.abrupt("return",this.inputStr(a));case 10:case 11:return e.abrupt("return",this.inputInt(a));case 12:return e.abrupt("return",this.inputTons(a));case 13:return e.abrupt("return",this.inputBoolean(a));case 14:return e.abrupt("return",this.print(a));case 15:throw new Error("Function does not exist on interface: Terminal");case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ke=function(){function e(){Object(me.a)(this,e),this.id="ac1a4d3ecea232e49783df4a23a81823cdca3205dc58cd20c4db259c25605b48",this.abi=Oe}return Object(he.a)(e,[{key:"select",value:function(e){var t=e.value,n=t.description,a=t.title,r=t.items,c={title:Object(Y.a)(a),text:Object(Y.a)(n),menuItems:r.map((function(e){return{functionId:e.handlerId,title:Object(Y.a)(e.title),description:Object(Y.a)(e.description)}})),component:y.COMPONENTS_BINDINGS.MENU,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(c))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="select"===e.t0?8:9;break;case 8:return e.abrupt("return",this.select(a));case 9:throw new Error("Function does not exist on interface: Menu");case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ee=n(29),Se=function(){function e(){Object(me.a)(this,e),this.id="a1d347099e29c1624c8890619daf207bde18e92df5220a54bcc6d858309ece84",this.abi=_e}return Object(he.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r=Object(Ee.a)(t,["answerId","prompt"]),c={text:Object(Y.a)(a),functionId:n,config:r,component:y.COMPONENTS_BINDINGS.AMOUNT_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(c))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:9;break;case 8:return e.abrupt("return",this.get(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Te=function(){function e(){Object(me.a)(this,e),this.id="16653eaf34c921467120f2685d425ff963db5cbb5aa676a62a2e33bfc3f6828a",this.abi=xe}return Object(he.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object(Y.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.CONFIRM_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(r))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:9;break;case 8:return e.abrupt("return",this.get(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),De=function(){function e(){Object(me.a)(this,e),this.id="d7ed1bd8e6230871116f4522e58df0a93c5520c56f4ade23ef3d8919a984653b",this.abi=ge}return Object(he.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:a?Object(Y.a)(a):"",functionId:n,component:y.COMPONENTS_BINDINGS.ADDRESS_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(r))}},{key:"select",value:function(e){return this.get(e)}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:"select"===e.t0?9:10;break;case 8:return e.abrupt("return",this.get(a));case 9:return e.abrupt("return",this.select(a));case 10:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ce=function(){function e(){Object(me.a)(this,e),this.id="c5a9558b2664aed7dc3e6123436d544f13ffe69ab0e259412f48c6d1c8588401",this.abi=Ne}return Object(he.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r=Object(Ee.a)(t,["answerId","prompt"]),c={text:Object(Y.a)(a),functionId:n,config:r,component:y.COMPONENTS_BINDINGS.AMOUNT_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(c))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:9;break;case 8:return e.abrupt("return",this.get(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Be=function(){function e(){Object(me.a)(this,e),this.id="f6927c0d4bdb69e1b52d27f018d156ff04152f00558042ff674f0fec32e4369d",this.abi=we}return Object(he.a)(e,[{key:"echo",value:function(e){var t=e.debotAddress,n=e.value,a=n.answerId,r=n.request,c=Object(Y.a)(r),s=z(c),o="".concat(y.DEBOT_WC,":").concat(this.id);Me.callDebotFunction(t,o,a,{response:s}).catch((function(e){console.error(e);var t={text:e.message,component:y.COMPONENTS_BINDINGS.TEXT,isError:!0,interfaceAddress:o};P.dispatch(O(t))}))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="echo"===e.t0?8:9;break;case 8:return e.abrupt("return",this.echo(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ae=function(){function e(){Object(me.a)(this,e),this.id="c91dcc3fddb30485a3a07eb7c1e5e2aceaf75f4bc2678111de1f25291cdda80b",this.abi=ye}return Object(he.a)(e,[{key:"print",value:function(e){var t=e.value.message,n={text:Object(Y.a)(t),component:y.COMPONENTS_BINDINGS.STDOUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};P.dispatch(O(n))}},{key:"call",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="print"===e.t0?8:9;break;case 8:return e.abrupt("return",this.print(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pe=new(function(){function e(){Object(me.a)(this,e);var t=new Ie,n=new ke,a=new Se,r=new Te,c=new De,s=new Ce,o=new Be,i=new Ae;this.state=new Map([[t.id,t],[n.id,n],[a.id,a],[r.id,r],[c.id,c],[s.id,s],[o.id,o],[i.id,i]])}return Object(he.a)(e,[{key:"delegateToInterface",value:function(e,t){var n,a=this.state.get(e);console.log("Calling ".concat(null===a||void 0===a||null===(n=a.constructor)||void 0===n?void 0:n.name," by id: ").concat(e));try{a.call(t)}catch(r){console.error("Interface with id ".concat(e," is not implemented"))}}}]),e}()),Le=function(){function e(){Object(me.a)(this,e),this.debot_handle=null,this.debot_abi=null,this.info=null}return Object(he.a)(e,[{key:"setDebotParams",value:function(e){var t=e.debot_handle,n=e.debot_abi,a=e.info;this.debot_handle=t,this.debot_abi=n,this.info=a}},{key:"log",value:function(e){var t={debot_handle:this.debot_handle,debot_abi:this.debot_abi,info:this.info};if(console.log(t,e),e.msg){var n={text:e.msg,component:y.COMPONENTS_BINDINGS.TEXT};P.dispatch(O(n))}}},{key:"switch",value:function(e){console.log(e)}},{key:"switch_completed",value:function(){console.log({msg:"Switch completed"})}},{key:"show_action",value:function(e){console.log(e)}},{key:"input",value:function(e){console.log(e)}},{key:"get_signing_box",value:function(){var e=Object(J.a)(K.a.mark((function e(){var t,n,a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e){P.dispatch(x({submit:e}))})),e.next=3,t;case 3:return n=e.sent,e.next=6,te.crypto.get_signing_box(n);case 6:return a=e.sent,r=a.handle,P.dispatch(x(null)),e.abrupt("return",{signing_box:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"invoke_debot",value:function(e){console.log(e)}},{key:"send",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a,r,c,s,o,i,u,l,p,b;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.boc.parse_message({boc:t.message});case 3:if(n=e.sent,a=n.parsed,r=a.dst,c=a.src,s=a.dst_workchain_id,o=r.split(":"),i=Object(V.a)(o,2),u=i[1],s!==y.DEBOT_WC){e.next=10;break}Pe.delegateToInterface(u,Object(d.a)({debotAddress:c},t)),e.next=17;break;case 10:return console.log("Call other debot",n,t),e.next=13,Me.runDebot(r);case 13:return l=e.sent,p=l.debot_handle,e.next=17,Me.debotModule.send({debot_handle:p,message:t.message});case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0),b={text:e.t0.message,component:y.COMPONENTS_BINDINGS.TEXT,isError:!0},P.dispatch(O(b));case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e){P.dispatch(g({submit:e,params:t.activity}))})),e.next=3,n;case 3:return a=e.sent,P.dispatch(g(null)),e.abrupt("return",{approved:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Me=new(function(){function e(){Object(me.a)(this,e),this.debotModule=new Q.DebotModule(te),this.storage=new Map}return Object(he.a)(e,[{key:"runDebot",value:function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Le,e.next=3,this.debotModule.init({address:t},n);case 3:return a=e.sent,n.setDebotParams(a),this.storage.set(t,a),r=a.debot_handle,e.next=9,this.debotModule.start({debot_handle:r});case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callDebotFunction",value:function(){var e=Object(J.a)(K.a.mark((function e(t,n,a,r){var c,s,o,i,u,l,d;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.storage.get(t),s=c.debot_handle,o=c.debot_abi,a&&(u=re(a),i={function_name:u},r&&(i.input=r)),e.next=5,te.abi.encode_internal_message({abi:{type:"Json",value:o},address:t,src_address:n,call_set:i,value:"1000000000000000"});case 5:return l=e.sent,e.prev=6,e.next=9,this.debotModule.send({debot_handle:s,message:l.message});case 9:return d=e.sent,e.abrupt("return",d);case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0),P.dispatch(O({text:e.t0.message,component:y.COMPONENTS_BINDINGS.TEXT,isError:!0}));case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"reloadDebot",value:function(){var e=Object(J.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.dispatch(_()),P.dispatch(g(null)),P.dispatch(x(null)),e.abrupt("return",this.runDebot(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Re=n(47),Ue=n(45),Fe=(n(78),function(e){var t=e.params,n=de(),r=t.text,c=t.functionId,s=t.interfaceAddress,o=t.isError;Object(a.useEffect)((function(){c&&"0"!==c&&function(){var e=Object(J.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.callDebotFunction(n,s,c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var i="stage-component__text ".concat(o?"stage-component__text--error":"");return Object(M.jsx)("div",{className:i,children:r})}),We=(n(79),function(e){var t=e.params,n=e.type,r=void 0===n?"text":n,c=e.isMultiline,s=void 0!==c&&c,o=e.customCallback,i=e.customErrorText,u=e.setCustomErrorText,l=de(),d=Object(a.useState)(""),p=Object(V.a)(d,2),b=p[0],f=p[1],v=Object(a.useState)(""),m=Object(V.a)(v,2),h=m[0],j=m[1],O=Object(a.useRef)(null),_=t.text,x=t.interfaceAddress,g=t.functionId;Object(a.useEffect)((function(){var e;null===O||void 0===O||null===(e=O.current)||void 0===e||e.focus()}),[]);var N=function(e){f(e.target.value),j(""),u&&u("")},w=function(){var e=Object(J.a)(K.a.mark((function e(t){var n,a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.shiftKey,a=t.key,r=t.altKey,!("Enter"===a&&!n&&!r&&!h&&b&&!i)){e.next=16;break}if(t.preventDefault(),e.prev=6,!o){e.next=9;break}return e.abrupt("return",o(b));case 9:return e.next=11,Me.callDebotFunction(l,x,g,{value:z(b)});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),j(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),y="stage-component__input ".concat(h||i?"stage-component__input--error":"");return Object(M.jsxs)("div",{className:"stage-component__input-container",children:[!!_&&Object(M.jsx)("span",{className:"stage-component__input-label",children:_}),s?Object(M.jsx)("textarea",{className:y,type:r,placeholder:"Enter...",value:b,onChange:N,onKeyPress:w,ref:O}):Object(M.jsx)("input",{className:y,type:r,placeholder:"Enter...",value:b,onChange:N,onKeyPress:w,ref:O}),!!h&&Object(M.jsx)("span",{className:"stage-component__input-error",children:h}),!!i&&Object(M.jsx)("span",{className:"stage-component__input-error",children:i})]})}),Ge=function(e){var t=e.params,n=e.type,a=void 0===n?"text":n;return Object(M.jsx)(We,{params:t,type:a,isMultiline:!0})};function Ke(e){if(!e||"0"===e)return"1";for(var t=parseInt(e,10),n="0.",a=1;a<t;a++)n+="0";return n+="1"}var Je=function(e){var t=e.params,n=e.customCallback,r=e.customErrorText,c=e.setCustomErrorText,s=de(),o=Object(a.useState)(""),i=Object(V.a)(o,2),u=i[0],l=i[1],p=Object(a.useState)(""),b=Object(V.a)(p,2),f=b[0],v=b[1],m=Object(a.useRef)(null),h=t.text,j=t.functionId,O=t.interfaceAddress,_=t.config,x=void 0===_?{}:_,g={min:x.min,max:x.max,step:Ke(x.decimals)},N=function(e){return e.min&&e.max?"Input value must be greater than ".concat(e.min," and less than (or equal) ").concat(e.max):e.min?"Input value must be greater than ".concat(e.min):!!e.max&&"Input value must be less than (or equal) ".concat(e.max)}(x);Object(a.useEffect)((function(){var e;null===m||void 0===m||null===(e=m.current)||void 0===e||e.focus()}),[]);var w=function(){var e=Object(J.a)(K.a.mark((function e(t){var a,r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.shiftKey,r=t.key,c=t.altKey,!("Enter"===r&&!a&&!c&&!f&&u)){e.next=15;break}if(t.preventDefault(),e.prev=5,!n){e.next=8;break}return e.abrupt("return",n(u));case 8:return e.next=10,Me.callDebotFunction(s,O,j,{value:z(u)});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),v(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),y="stage-component__input ".concat(f?"stage-component__input--error":"");return Object(M.jsxs)("div",{className:"stage-component__input-container",children:[!!h&&Object(M.jsx)("span",{className:"stage-component__input-label",children:h}),!!N&&Object(M.jsx)("div",{className:"stage-component__input-description",children:N}),Object(M.jsx)("input",Object(d.a)({className:y,type:"number",placeholder:"Enter...",value:u,onChange:function(e){var t=e.target.value;if(""===t)return l(e.target.value),v(""),void(c&&c(""));if(x.decimals&&"0"!==x.decimals){var n=t.split("."),a=Object(V.a)(n,2)[1];if(a&&parseInt(x.decimals)<a.length)return void v("Too many decimals")}else if(t.includes("."))return void v("This input does not support decimals");var r=parseFloat(t),s=x.max&&r>x.max||x.min&&r<x.min;t.includes("e")?v("Input includes not valid characters"):s?v(N):(l(e.target.value),v(""),c&&c(""))},onKeyPress:w,ref:m},g)),f&&Object(M.jsx)("span",{className:"stage-component__input-error",children:f}),!!r&&Object(M.jsx)("span",{className:"stage-component__input-error",children:r})]})},Ve=(n(80),function(e){var t=e.params,n=void 0===t?{}:t,a=e.approveCallback,r=de(),c=n.functionId,s=n.interfaceAddress,o=n.text,i=function(){var e=Object(J.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=3;break}return e.abrupt("return",a(t));case 3:return e.next=5,Me.callDebotFunction(r,s,c,{value:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"stage-component__confirm-input-container",children:[!!o&&Object(M.jsx)("div",{className:"stage-component__confirm-input-label",children:o}),Object(M.jsx)("div",{onClick:function(){return i(!0)},className:"stage-component__confirm-input-button",children:"Confirm"}),Object(M.jsx)("div",{onClick:function(){return i(!1)},className:"stage-component__confirm-input-button stage-component__confirm-input-button--decline",children:"Decline"})]})}),Xe=function(e){var t=e.params,n=de(),r=Object(a.useState)(""),c=Object(V.a)(r,2),s=c[0],o=c[1],i=t.interfaceAddress,u=t.functionId,l=function(){var e=Object(J.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",o("Invalid address"));case 6:return e.next=8,Me.callDebotFunction(n,i,u,{value:t});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(We,{customCallback:l,customErrorText:s,setCustomErrorText:o,params:t})},He=function(e){var t=e.params,n=de(),r=Object(a.useState)(""),c=Object(V.a)(r,2),s=c[0],o=c[1],i=t.functionId,u=t.interfaceAddress,l=function(){var e=Object(J.a)(K.a.mark((function e(t){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(1e9*parseFloat(t)).toString(),e.next=4,Me.callDebotFunction(n,u,i,{value:z(a)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(Je,{params:t,customCallback:l,customErrorText:s,setCustomErrorText:o})},qe=(n(81),function(e){var t=e.params,n=de(),r=Object(a.useState)(""),c=Object(V.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(!1),u=Object(V.a)(i,2),l=u[0],d=u[1],p=Object(a.useState)(!1),b=Object(V.a)(p,2),f=b[0],v=b[1],m=t.text,h=t.title,j=t.interfaceAddress,O=t.menuItems,_=Object(a.useCallback)(function(){var e=Object(J.a)(K.a.mark((function e(t,a){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.callDebotFunction(n,j,t.functionId,{index:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),[n,j]);return Object(a.useLayoutEffect)((function(){var e=O.map((function(e,t){var n=e.title;return e.description&&(n+=" (".concat(e.description,")")),Object(M.jsx)("div",{onClick:function(){return _(e,t)},className:"stage-component__menu-item",children:n},"".concat(e.functionId,"-").concat(t))}));e.length>7&&(f?e.push(Object(M.jsx)("div",{onClick:function(){return v(!1)},className:"stage-component__menu-item",children:"Hide"},"hide-btn")):(e=e.slice(0,7)).push(Object(M.jsx)("div",{onClick:function(){return v(!0)},className:"stage-component__menu-item",children:"Show more"},"show-more-btn"))),d(e)}),[O,_,f]),Object(M.jsxs)("div",{className:"stage-component__menu-container",children:[Object(M.jsx)("div",{className:"stage-component__menu-title",children:h}),Object(M.jsx)("div",{className:"stage-component__menu-description",children:m}),Object(M.jsx)("div",{className:"stage-component__menu-list",children:l}),s&&Object(M.jsx)("span",{className:"stage-component__menu-error",children:s})]})}),Ye=function(e){var t=e.params,n=de(),r=t.text,c=t.interfaceAddress;return Object(a.useEffect)((function(){(function(){var e=Object(J.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.callDebotFunction(n,c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(M.jsx)("div",{className:"stage-component__text",children:r})},ze=(n(82),function(e){Object(Re.a)(n,e);var t=Object(Ue.a)(n);function n(){var e,r;Object(me.a)(this,n);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(r=t.call.apply(t,[this].concat(s))).stageRef=Object(a.createRef)(null),r.stageComponents=(e={},Object(H.a)(e,y.COMPONENTS_BINDINGS.INPUT,We),Object(H.a)(e,y.COMPONENTS_BINDINGS.TEXTAREA,Ge),Object(H.a)(e,y.COMPONENTS_BINDINGS.AMOUNT_INPUT,Je),Object(H.a)(e,y.COMPONENTS_BINDINGS.CONFIRM_INPUT,Ve),Object(H.a)(e,y.COMPONENTS_BINDINGS.ADDRESS_INPUT,Xe),Object(H.a)(e,y.COMPONENTS_BINDINGS.TOKENS_INPUT,He),Object(H.a)(e,y.COMPONENTS_BINDINGS.TEXT,Fe),Object(H.a)(e,y.COMPONENTS_BINDINGS.STDOUT,Ye),Object(H.a)(e,y.COMPONENTS_BINDINGS.MENU,qe),e),r.formStageComponents=function(){return r.props.stage.map((function(e,t){var n=r.stageComponents[e.component];return Object(M.jsx)(n,{params:e},"".concat(e.functionId,"-").concat(t))}))},r}return Object(he.a)(n,[{key:"componentDidUpdate",value:function(e){var t,n=this;e.stage.length!==this.props.stage.length&&((null===(t=this.stageRef)||void 0===t?void 0:t.current)&&setTimeout((function(){return n.stageRef.current.scrollTop=n.stageRef.current.scrollHeight}),0))}},{key:"render",value:function(){var e=this.props,t=e.stage,n=e.isDebotError;if(!t.length)return Object(M.jsx)(st,{isFailed:n});var a=this.formStageComponents(),r="stage ".concat(ue()?"with-custom-scrollbar":"");return Object(M.jsx)("div",{ref:this.stageRef,className:r,children:Object(M.jsx)("div",{className:"stage__container",children:a})})}}]),n}(a.Component)),Ze=Object(o.b)((function(e){return{stage:e.debot.stage}}))(ze),$e=(n(83),function(){var e=Object(o.c)(),t=de(),n=Object(a.useState)(!1),r=Object(V.a)(n,2),c=r[0],s=r[1],i=Object(o.d)((function(e){return!!e.debot.signingBox})),u=Object(o.d)((function(e){return!!e.debot.approveWindow})),l=Object(o.d)((function(e){return!!e.debot.localDebotsList.find((function(e){return e.address===t}))}));if(Object(a.useEffect)((function(){return function(){var e=Object(J.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.prev=1,e.next=4,Me.runDebot(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s(!0),console.error("Error while running debot: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()(),function(){e(_())}}),[t,e]),!t)return Object(M.jsx)(L.a,{to:"/"});var d=function(){var e=Object(J.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.reloadDebot(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),s(!0),console.error("Error while running debot: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),p="debot-page ".concat(i||u?"debot-page--scroll-disabled":"");return Object(M.jsxs)("div",{className:p,children:[Object(M.jsxs)("div",{className:"debot-page__controls",children:[Object(M.jsx)("div",{className:"debot-page__controls-item",onClick:d,children:"Restart DeBot"}),l?Object(M.jsx)("div",{className:"debot-page__controls-item",onClick:function(){return oe(t)},children:"Remove from Saved"}):Object(M.jsx)(ct,{name:"Save DeBot",children:Object(M.jsx)(at,{prefilledAddress:t})}),Object(M.jsx)(ct,{height:464,width:650,name:"Show Environment",children:Object(M.jsx)(rt,{})})]}),Object(M.jsx)(Ze,{isDebotError:c}),i&&Object(M.jsx)(Qe,{}),u&&Object(M.jsx)(tt,{})]})}),Qe=(n(84),function(){var e=Object(a.useState)(""),t=Object(V.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(V.a)(c,2),i=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(V.a)(l,2),p=d[0],b=d[1],f=Object(a.useState)(!1),v=Object(V.a)(f,2),m=v[0],h=v[1],j=Object(o.d)((function(e){return e.debot.signingBox})),O=function(){var e=Object(J.a)(K.a.mark((function e(t){var a,r,c,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.shiftKey,r=t.key,c=t.altKey,"Enter"===r&&!a&&!c&&n){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,se(n);case 8:s=e.sent,j.submit(s),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error when getting keys from mnemonic: ",e.t0),u("Error when getting keys from secret phrase");case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){e.preventDefault(),e.stopPropagation()};return Object(M.jsx)("div",{className:"signing-box",children:Object(M.jsxs)("div",{className:"signing-box__container",children:[Object(M.jsx)("div",{className:"signing-box__header",children:"Signing Box"}),Object(M.jsxs)("div",{className:"signing-box__description",children:["We ",Object(M.jsx)("b",{children:"DON'T"})," store your keys or seed phrase."]}),Object(M.jsxs)("div",{className:"signing-box__input-container",children:[Object(M.jsx)("div",{className:"signing-box__input-label",children:"Enter seed phrase:"}),Object(M.jsx)("textarea",{className:"signing-box__input ".concat(i?"signing-box__input--error":""),type:"text",value:n,onChange:function(e){r(e.target.value),u("")},onKeyPress:O}),i&&Object(M.jsx)("span",{className:"signing-box__input-error",children:i})]}),Object(M.jsx)("div",{className:"signing-box__devider",children:"OR"}),Object(M.jsxs)("div",{className:"signing-box__upload-keys ".concat(p?"signing-box__upload-keys--dropable":""),onDragEnter:function(e){_(e),b(!0)},onDrop:function(e){_(e),b(!1);var t=e.dataTransfer.files;if(t&&t.length>1)return h(!0);var n=new FileReader;n.onabort=function(){return h(!0)},n.onerror=function(){return h(!0)},n.onload=function(e){try{var t=e.target.result,n=JSON.parse(t);j.submit(n),h(!1)}catch(a){h(!0)}},n.readAsText(t[0])},onDragOver:_,children:[Object(M.jsx)("input",{type:"file",id:"upload-input",hidden:!0}),Object(M.jsxs)("label",{htmlFor:"upload-input",children:[Object(M.jsx)("img",{src:"/uploadKeys.jpg",alt:"Click here to upload"}),"Upload keypair file"]}),Object(M.jsx)("div",{className:"signing-box__upload-keys-dropable-overlay ".concat(p?"signing-box__upload-keys-dropable-overlay--active":""),onDragLeave:function(e){_(e),b(!1)}}),m&&Object(M.jsx)("span",{className:"signing-box__upload-keys--error",children:"Not recognized"})]})]})})}),et=(n(85),function(e){return e/1e9}),tt=function(){var e=Object(o.d)((function(e){return e.debot.approveWindow})),t=e.params,n=t.dst,a=t.fee,r=t.out,c=t.setcode,s=t.signkey,i=!!r.length;return Object(M.jsx)("div",{className:"approve-window",children:Object(M.jsxs)("div",{className:"approve-window__container",children:[Object(M.jsx)("div",{className:"approve-window__header",children:"Permission Request"}),Object(M.jsx)("div",{className:"approve-window__description",children:"DeBot is going to create an onchain transaction:"}),Object(M.jsxs)("div",{className:"approve-window__details",children:[Object(M.jsxs)("div",{className:"approve-window__details-row",children:[Object(M.jsx)("div",{className:"approve-window__details-col approve-window__details-col--title",children:"Account:"}),Object(M.jsx)("div",{className:"approve-window__details-col",children:Object(M.jsx)("a",{href:$(n),target:"_blank",rel:"noreferrer",children:n})})]}),Object(M.jsxs)("div",{className:"approve-window__details-row",children:[Object(M.jsx)("div",{className:"approve-window__details-col approve-window__details-col--title",children:"Transaction fees:"}),Object(M.jsxs)("div",{className:"approve-window__details-col",children:[et(a)," tokens"]})]}),Object(M.jsxs)("div",{className:"approve-window__details-row",children:[Object(M.jsx)("div",{className:"approve-window__details-col approve-window__details-col--title",children:"Message signer public key:"}),Object(M.jsx)("div",{className:"approve-window__details-col",children:s})]})]}),i?Object(M.jsx)("div",{className:"approve-window__details-description",children:"Outgoing transfers from account:"}):Object(M.jsx)("div",{className:"approve-window__details-description",children:"No outgoing transfers."}),i&&Object(M.jsxs)("div",{className:"approve-window__transfers",children:[Object(M.jsxs)("div",{className:"approve-window__transfers-row",children:[Object(M.jsx)("div",{className:"approve-window__transfers-col approve-window__transfers-col--title",children:"Recipient"}),Object(M.jsx)("div",{className:"approve-window__transfers-col approve-window__transfers-col--title",children:"Amount"})]}),r.map((function(e,t){var n=e.recipient||e.dst;return Object(M.jsxs)("div",{className:"approve-window__transfers-row",children:[Object(M.jsx)("div",{className:"approve-window__transfers-col",children:Object(M.jsx)("a",{href:$(n),target:"_blank",rel:"noreferrer",children:n})}),Object(M.jsxs)("div",{className:"approve-window__transfers-col",children:[et(e.amount)," tokens"]})]},"".concat(n,"-").concat(t))}))]}),!!c&&Object(M.jsx)("div",{className:"approve-window__details-description approve-window__details-description--warning",children:"Warning: the transaction will change the account smart contract code!"}),Object(M.jsx)("div",{className:"approve-window__confirm",children:Object(M.jsx)(Ve,{approveCallback:function(t){return e.submit(t)}})})]})})},nt=r.a.createContext(null),at=(n(86),function(e){var t=e.prefilledAddress,n=void 0===t?"":t,r=Object(a.useContext)(nt),c=Object(a.useState)(""),s=Object(V.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)(n),l=Object(V.a)(u,2),d=l[0],p=l[1];return Object(M.jsxs)("div",{className:"add-debot",children:[Object(M.jsxs)("div",{className:"stage-component__input-container",children:[Object(M.jsx)("span",{className:"stage-component__input-label",children:"DeBot label"}),Object(M.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Enter...",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(M.jsxs)("div",{className:"stage-component__input-container",children:[Object(M.jsx)("span",{className:"stage-component__input-label",children:"DeBot address"}),Object(M.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Enter...",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(M.jsx)("div",{onClick:function(){o&&d&&(X(o,d),r&&r.closePopup())},className:"add-debot__submit-button",children:"Add to list"})]})}),rt=(n(87),function(){var e=Object(o.d)((function(e){return e.environment.variables})),t=Object.entries(e),n=Object(a.useState)(""),r=Object(V.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),u=Object(V.a)(i,2),l=u[0],d=u[1],p=Object(a.useState)(!1),b=Object(V.a)(p,2),f=b[0],v=b[1],m=function(){var e=Object(J.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:v(!0),setTimeout((function(){return v(!1)}),2e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Clipboard API not supported");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h="environment__copied-indicator ".concat(f?"environment__copied-indicator--visible":"");return Object(M.jsxs)("div",{className:"environment",children:[Object(M.jsx)("div",{className:"environment__table--wrapper ".concat(ue()?"with-custom-scrollbar":""),children:t.length?Object(M.jsx)("div",{className:"environment__table",children:t.map((function(e){var t=Object(V.a)(e,2),n=t[0],a=t[1];return Object(M.jsxs)("div",{className:"environment__table-row",children:[Object(M.jsx)("div",{className:"environment__table-col environment__table-col--cancel",children:Object(M.jsx)(W,{onClick:function(e){return function(e,t){e.stopPropagation(),ie(t)}(e,n)}})}),Object(M.jsx)("div",{className:"environment__table-col environment__table-col--title",children:n}),Object(M.jsx)("div",{className:"environment__table-col environment__table-col--clickable",onClick:function(){return m(a)},children:a})]},n)}))}):Object(M.jsxs)("div",{className:"environment__image",children:[Object(M.jsx)("img",{src:"/env-icon.svg",alt:"Environment"}),Object(M.jsx)("div",{className:"environment__image-text",children:"Here you can store something to use it later (address or public key, for example)."}),Object(M.jsx)("div",{className:"environment__image-text environment__image-text--warning",children:"This storage is not encrypted, so you should not store private keys or seed-phrase here."})]})}),Object(M.jsxs)("div",{className:"environment__input-container",children:[Object(M.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Key",value:c,onChange:function(e){return s(e.target.value)}}),Object(M.jsx)("span",{className:"environment__divider",children:":"}),Object(M.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Value",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(M.jsxs)("div",{className:"environment__footer",children:[Object(M.jsx)("div",{className:h,children:"Copied to clipboard!"}),Object(M.jsx)("div",{onClick:function(){c&&l&&(q(c,l),s(""),d(""))},className:"environment__submit-button",children:"Add variable"})]})]})}),ct=(n(88),function(e){var t=e.children,n=e.name,r=e.height,c=void 0===r?252:r,s=e.width,o=void 0===s?460:s,i=Object(a.useRef)(null),u=Object(a.useState)(!1),l=Object(V.a)(u,2),d=l[0],p=l[1],b=function(){return p(!1)},f=Object(a.useCallback)((function(e){d&&(null===i||void 0===i?void 0:i.current)&&!i.current.contains(e.target)&&b()}),[d]);Object(a.useEffect)((function(){return document.addEventListener("click",f),function(){document.removeEventListener("click",f)}}),[f]);var v="control-with-popup__container ".concat(d?"control-with-popup__container--visible":""),m="control-with-popup ".concat(d?"control-with-popup--active":""),h={"--height":"".concat(c,"px"),"--width":"".concat(o,"px")};return Object(M.jsxs)("div",{ref:i,className:m,children:[Object(M.jsx)("div",{onClick:function(){return p(!d)},className:"control-with-popup__label",children:n}),Object(M.jsx)("div",{className:v,style:h,children:Object(M.jsx)(nt.Provider,{value:{closePopup:b},children:t})})]})}),st=(n(89),function(e){var t=e.isFailed,n=t?"/load-failed.png":"/loader.gif",a=t?"Nothing here :(":"Loading...";return Object(M.jsx)("div",{className:"loader",children:Object(M.jsx)("img",{className:"loader__cat",src:n,alt:a})})}),ot=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function it(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ut;n(90);(n(91).config(),ue)&&(null===(ut=document.querySelector("body"))||void 0===ut||ut.classList.add("with-custom-scrollbar"));s.a.render(Object(M.jsx)(o.a,{store:P,children:Object(M.jsx)(i.a,{children:Object(M.jsx)(R,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ot?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):it(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):it(t,e)}))}}()}},[[94,1,2]]]);
//# sourceMappingURL=main.17e68cb4.chunk.js.map