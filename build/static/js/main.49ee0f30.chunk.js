(this.webpackJsonpdebot_browser=this.webpackJsonpdebot_browser||[]).push([[0],{2:function(e,t){e.exports={EXPLORER_BASE_URL:"https://ton.live/accounts/accountDetails?id=",DB_CONTENT_TYPES:{DEBOT:"debot"},COMPONENTS_BINDINGS:{TEXT:"Text",INPUT:"Input",TEXTAREA:"Textarea",AMOUNT_INPUT:"AmountInput",CONFIRM_INPUT:"ConfirmInput",ADDRESS_INPUT:"AddressInput",TOKENS_INPUT:"TokensInput",MENU:"Menu",STDOUT:"Stdout"},DEBOT_ADDRESS_SEARCH_PARAM:"debotAddress",DEBOT_WC:-31,MNEMONIC_WORD_COUNT:12,DERIVATION_PATH:"m/44'/396'/0'/0/0",USER_DEBOTS_LS_FIELD:"USER_DEBOTS_LS_FIELD",USER_ENV_LS_FIELD:"USER_ENV_LS_FIELD",TON_NETWORK_LS_FIELD:"TON_NETWORK_LS_FIELD",MAIN_NETWORK:"main.ton.dev",DEV_NETWORK:"net.ton.dev"}},37:function(e,t,n){"use strict";(function(e){t.a=function(t){if("string"===typeof t){var n=e.from(t,"hex").toString();return console.log(n),n}}}).call(this,n(60).Buffer)},56:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(24),s=n.n(c),i=n(11),o=n(16),u=n(17),l=n(44),d=n(5),p=n(28),b="debot/PUSH_ITEM_TO_STAGE",f="debot/CLEAR_STAGE",v="debot/SET_SIGNING_BOX",m="debot/SET_APPROVE_WINDOW",h="debot/SET_DEBOTS_FILTER_KEY",j="debot/SET_LOCAL_DEBOTS_LIST",O=function(e){return function(t){t({type:b,payload:e})}},_=function(){return function(e){e({type:f})}},x=function(e){return function(t){t({type:v,payload:e})}},g=function(e){return function(t){t({type:m,payload:e})}},N=function(e){return function(t){t({type:h,payload:e})}},w=function(e){return function(t){t({type:j,payload:e})}},y=n(2),E={stage:[],signingBox:null,approveWindow:null,filterKey:"",debotsList:[{title:"TIP-3 DeBot",address:"0:81c12c2f4514124536aafea59db7df0262d3af877b4477afe6514bbc5bc9f317",network:y.DEV_NETWORK},{title:"SMV DeBot (RSquad)",address:"0:2a92e3d01c530697a0ec3ab5c3494474faa7ea0af5fa30d4ed508115bc9957a7",network:y.DEV_NETWORK}],localDebotsList:JSON.parse(localStorage.getItem(y.USER_DEBOTS_LS_FIELD))||[]};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case b:var r=[].concat(Object(p.a)(e.stage),[a]);return Object(d.a)(Object(d.a)({},e),{},{stage:r});case f:return Object(d.a)(Object(d.a)({},e),{},{stage:[]});case v:return Object(d.a)(Object(d.a)({},e),{},{signingBox:a});case m:return Object(d.a)(Object(d.a)({},e),{},{approveWindow:a});case h:var c=a.toLowerCase();return Object(d.a)(Object(d.a)({},e),{},{filterKey:c});case j:return Object(d.a)(Object(d.a)({},e),{},{localDebotsList:a});default:return e}},I="debot/SET_ENVIRONMENT_VARIABLES",S=function(e){return function(t){t({type:I,payload:e})}},T={variables:JSON.parse(localStorage.getItem(y.USER_ENV_LS_FIELD))||{}};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case I:return Object(d.a)(Object(d.a)({},e),{},{variables:a});default:return e}},C=Object(u.c)({debot:k,environment:D}),B=[l.a],A=u.d.apply(void 0,[u.a.apply(void 0,B)].concat([])),R=Object(u.e)(C,{},A),M=n(10),L=(n(56),n(0)),P=function(){return Object(L.jsx)("div",{className:"app-container",children:Object(L.jsxs)("div",{className:"app-container__flex-wrapper",children:[Object(L.jsx)(Oe,{}),Object(L.jsxs)(M.d,{children:[Object(L.jsx)(M.b,{exact:!0,path:"/",component:xe}),Object(L.jsx)(M.b,{path:"/debot",component:nt})]})]})})},W=function(e){var t=e.onClick,n=void 0===t?function(){return!1}:t;return Object(L.jsxs)("svg",{className:"lens-icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:n,children:[Object(L.jsx)("path",{d:"M16.8881 8.72414C16.8881 13.2678 13.2179 16.9483 8.69405 16.9483C4.17023 16.9483 0.5 13.2678 0.5 8.72414C0.5 4.18044 4.17023 0.5 8.69405 0.5C13.2179 0.5 16.8881 4.18044 16.8881 8.72414Z",stroke:"#6F6F6F"}),Object(L.jsx)("line",{y1:"-0.5",x2:"9.63903",y2:"-0.5",transform:"matrix(0.705884 0.708327 -0.705884 0.708327 14.3643 15.1724)",stroke:"#6F6F6F"})]})},F=function(){return Object(L.jsx)("svg",{className:"arrow-icon",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(L.jsx)("path",{d:"M6.76449 9L0.338936 0.230769L13.19 0.23077L6.76449 9Z",fill:"#737373"})})},U=function(){return Object(L.jsx)("svg",{className:"back-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(L.jsx)("path",{d:"M11.0156 2L3.00018 10.0154L11.0156 18.0309",stroke:"#5287C3",strokeWidth:"3"})})},K=function(e){var t=e.onClick,n=void 0===t?function(){return!1}:t;return Object(L.jsxs)("svg",{className:"cancel-icon",onClick:n,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(L.jsx)("path",{d:"M9.99902 2L1.99989 9.99914",stroke:"#BABABA",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(L.jsx)("path",{d:"M2.00098 2L10.0001 9.99914",stroke:"#BABABA",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},G=function(e){var t=e.className;return Object(L.jsx)("img",{src:"/dev-net-icon.png",className:t?"network-icon ".concat(t):"network-icon",alt:"network"})},V=function(e){var t=e.className;return Object(L.jsx)("img",{src:"/main-net-icon.png",className:t?"network-icon ".concat(t):"network-icon",alt:"network"})},J=n(3),X=n.n(J),H=n(4),q=n(6);var Y=function(e){var t=JSON.parse(localStorage.getItem(y.USER_DEBOTS_LS_FIELD))||[],n=[e].concat(Object(p.a)(t));R.dispatch(w(n)),localStorage.setItem(y.USER_DEBOTS_LS_FIELD,JSON.stringify(n))},z=n(14);var Z=function(e,t){var n=JSON.parse(localStorage.getItem(y.USER_ENV_LS_FIELD))||{},a=Object(d.a)(Object(d.a)({},n),{},Object(z.a)({},e,t));R.dispatch(S(a)),localStorage.setItem(y.USER_ENV_LS_FIELD,JSON.stringify(a))},$=n(37);var Q=function(e){if("string"===typeof e)return unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join("")};var ee=function(e){return"/debot?debotAddress=".concat(e)};var te=function(e){return"".concat(y.EXPLORER_BASE_URL).concat(e)},ne=n(8),ae=n(9),re=n(18),ce=n(46);re.TonClient.useBinaryLibrary(ce.a);var se=new(function(){function e(){Object(ne.a)(this,e),this.selectedNetwork=localStorage.getItem(y.TON_NETWORK_LS_FIELD)||y.MAIN_NETWORK,this.mainNetClient=new re.TonClient({network:{server_address:y.MAIN_NETWORK}}),this.devNetClient=new re.TonClient({network:{server_address:y.DEV_NETWORK}})}return Object(ae.a)(e,[{key:"setSelectedNetwork",value:function(e){localStorage.setItem(y.TON_NETWORK_LS_FIELD,e),this.selectedNetwork=e}},{key:"client",get:function(){return this.selectedNetwork===y.DEV_NETWORK?this.devNetClient:this.mainNetClient}}]),e}());function ie(){return(ie=Object(H.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.utils.convert_address({address:t,output_format:{type:"Hex"}});case 3:return n=e.sent,e.abrupt("return",!!n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var oe=function(e){return ie.apply(this,arguments)};var ue=function(e){return"0x".concat(parseInt(e,10).toString(16))};function le(){return(le=Object(H.a)(X.a.mark((function e(t){var n,a,r,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.client.crypto.hdkey_xprv_from_mnemonic({dictionary:1,word_count:y.MNEMONIC_WORD_COUNT,phrase:t});case 2:return n=e.sent,e.next=5,se.client.crypto.hdkey_derive_from_xprv_path({xprv:n.xprv,path:y.DERIVATION_PATH});case 5:return a=e.sent,e.next=8,se.client.crypto.hdkey_secret_from_xprv({xprv:a.xprv});case 8:return r=e.sent,c=r.secret,e.next=12,se.client.crypto.nacl_sign_keypair_from_secret_key({secret:c});case 12:return s=e.sent,e.abrupt("return",{secret:c,public:s.public});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){return le.apply(this,arguments)};var pe=function(e){if(!e.startsWith("$"))return!1;var t=e.slice(1);return R.getState().environment.variables[t]};var be=function(e){var t=(JSON.parse(localStorage.getItem(y.USER_DEBOTS_LS_FIELD))||[]).filter((function(t){return t.address!==e}));R.dispatch(w(t)),localStorage.setItem(y.USER_DEBOTS_LS_FIELD,JSON.stringify(t))};var fe=function(e){var t=JSON.parse(localStorage.getItem(y.USER_ENV_LS_FIELD))||{},n=Object(d.a)({},t);delete n[e],R.dispatch(S(n)),localStorage.setItem(y.USER_ENV_LS_FIELD,JSON.stringify(n))};var ve=function(){return!navigator.platform.toLowerCase().includes("mac")};var me=function(){return new URLSearchParams(Object(M.h)().search)};var he=function(){return me().get(y.DEBOT_ADDRESS_SEARCH_PARAM)},je=(n(75),function(){var e=Object(M.g)(),t=Object(i.c)(),n=Object(a.useState)(""),r=Object(q.a)(n,2),c=r[0],s=r[1],o=function(){var n=Object(H.a)(X.a.mark((function n(){var a;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe(c);case 2:if(!n.sent){n.next=7;break}return a=ee(c),t(N("")),n.abrupt("return",e.push(a));case 7:t(N(c));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"search-bar-container",children:[Object(L.jsx)("input",{className:"search-bar-container__input",type:"text",placeholder:"Enter debot address",value:c,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){var t=e.shiftKey,n=e.key,a=e.altKey;"Enter"===n&&!t&&!a&&(e.preventDefault(),o())}}),Object(L.jsx)(W,{onClick:o})]})}),Oe=(n(76),function(){var e=Object(M.i)("/debot");return Object(L.jsxs)("header",{className:"header-container",children:[Object(L.jsx)(o.b,{to:"/",children:Object(L.jsx)("h1",{children:"Free TON DeBot Browser"})}),e&&Object(L.jsxs)(o.b,{to:"/",className:"header-container__back-button",children:[Object(L.jsx)(U,{}),Object(L.jsx)("p",{children:"Back"})]}),Object(L.jsx)(je,{})]})}),_e=function(e){var t=e.debot,n=e.isGrey,a=ee(t.address),r="debots-list__item ".concat(n?"debots-list__item--grey":"");return Object(L.jsxs)(o.b,{to:a,className:r,onClick:function(){t.network&&se.setSelectedNetwork(t.network)},children:[Object(L.jsxs)("div",{className:"debots-list__item-title",children:[t.title,t.network===y.DEV_NETWORK&&Object(L.jsx)(G,{}),t.network===y.MAIN_NETWORK&&Object(L.jsx)(V,{})]}),Object(L.jsx)("div",{className:"debots-list__item-address",children:t.address})]})},xe=(n(77),function(){var e=Object(a.useState)(se.selectedNetwork),t=Object(q.a)(e,2),n=t[0],r=t[1],c=Object(i.d)((function(e){return e.debot.debotsList})),s=Object(i.d)((function(e){return e.debot.localDebotsList})),o=Object(i.d)((function(e){return e.debot.filterKey})),u=c.filter((function(e){return e.title.toLowerCase().startsWith(o)||e.address.startsWith(o)})),l=s.filter((function(e){return e.title.toLowerCase().startsWith(o)||e.address.startsWith(o)})),d=function(e){se.setSelectedNetwork(e),r(e)};return Object(L.jsxs)("div",{className:"debots-list",children:[Object(L.jsxs)("div",{className:"debots-list__controls",children:[Object(L.jsxs)(lt,{selectedItem:Object(L.jsxs)("div",{className:"options-list__selected-item",children:[n===y.DEV_NETWORK?Object(L.jsx)(G,{}):Object(L.jsx)(V,{}),n]}),height:84,width:200,children:[Object(L.jsxs)("div",{className:"options-list__list-item",onClick:function(){return d(y.MAIN_NETWORK)},children:[Object(L.jsx)(V,{}),y.MAIN_NETWORK]}),Object(L.jsxs)("div",{className:"options-list__list-item",onClick:function(){return d(y.DEV_NETWORK)},children:[Object(L.jsx)(G,{}),y.DEV_NETWORK]})]}),Object(L.jsx)(ut,{height:310,width:500,name:"Add DeBot",children:Object(L.jsx)(it,{})}),Object(L.jsx)(ut,{height:472,width:660,name:"Show Environment",children:Object(L.jsx)(ot,{})})]}),!!l.length&&Object(L.jsxs)(a.Fragment,{children:[Object(L.jsx)("div",{className:"debots-list__section-title",children:"Your saved DeBots"}),l.map((function(e,t){return Object(L.jsx)(_e,{isGrey:t%2===0||0===t,debot:e},"".concat(e.address,"-").concat(t))}))]}),!!u.length&&Object(L.jsxs)(a.Fragment,{children:[Object(L.jsx)("div",{className:"debots-list__section-title",children:"Suggested DeBots"}),u.map((function(e,t){return Object(L.jsx)(_e,{isGrey:t%2===0||0===t,debot:e},"".concat(e.address,"-").concat(t))}))]}),!u.length&&!l.length&&Object(L.jsx)(dt,{isFailed:!0})]})}),ge={"ABI version":2,header:["time"],functions:[{name:"input",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"multiline",type:"bool"}],outputs:[{name:"value",type:"bytes"}]},{name:"inputStr",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"multiline",type:"bool"}],outputs:[{name:"value",type:"bytes"}]},{name:"inputInt",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"int256"}]},{name:"inputUint",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"uint256"}]},{name:"inputTons",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"uint128"}]},{name:"inputBoolean",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"bool"}]},{name:"print",inputs:[{name:"answerId",type:"uint32"},{name:"message",type:"bytes"}],outputs:[]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},Ne={"ABI version":2,header:["time"],functions:[{name:"select",inputs:[{name:"title",type:"bytes"},{name:"description",type:"bytes"},{components:[{name:"title",type:"bytes"},{name:"description",type:"bytes"},{name:"handlerId",type:"uint32"}],name:"items",type:"tuple[]"}],outputs:[{name:"index",type:"uint32"}]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},we={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"decimals",type:"uint8"},{name:"min",type:"uint128"},{name:"max",type:"uint128"}],outputs:[{name:"value",type:"uint128"}]}],data:[],events:[]},ye={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"bool"}]}],data:[],events:[]},Ee={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"}],outputs:[{name:"value",type:"address"}]},{name:"select",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value",type:"address"}]}],data:[],events:[]},ke={"ABI version":2,header:["time"],functions:[{name:"get",inputs:[{name:"answerId",type:"uint32"},{name:"prompt",type:"bytes"},{name:"min",type:"int256"},{name:"max",type:"int256"}],outputs:[{name:"value",type:"int256"}]}],data:[],events:[]},Ie={"ABI version":2,header:["time"],functions:[{name:"echo",inputs:[{name:"answerId",type:"uint32"},{name:"request",type:"bytes"}],outputs:[{name:"response",type:"bytes"}]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},Se={"ABI version":2,header:["time"],functions:[{name:"print",inputs:[{name:"message",type:"bytes"}],outputs:[]},{name:"constructor",inputs:[],outputs:[]}],data:[],events:[]},Te=function(){function e(){Object(ne.a)(this,e),this.id="8796536366ee21852db56dccb60bc564598b618c865fc50c8b1ab740bba128e3",this.abi=ge}return Object(ae.a)(e,[{key:"inputStr",value:function(e){var t=e.value,n=t.answerId,a=t.multiline,r=t.prompt,c={text:Object($.a)(r),functionId:n,component:a?y.COMPONENTS_BINDINGS.TEXTAREA:y.COMPONENTS_BINDINGS.INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(c))}},{key:"inputInt",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object($.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.AMOUNT_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(r))}},{key:"inputTons",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object($.a)(a),functionId:n,config:{min:"0",decimals:"9"},component:y.COMPONENTS_BINDINGS.TOKENS_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(r))}},{key:"inputBoolean",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object($.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.CONFIRM_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(r))}},{key:"print",value:function(e){var t=e.value,n=t.answerId,a=t.message,r={text:Object($.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.TEXT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(r))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="input"===e.t0?8:"inputStr"===e.t0?9:"inputInt"===e.t0?10:"inputUint"===e.t0?11:"inputTons"===e.t0?12:"inputBoolean"===e.t0?13:"print"===e.t0?14:15;break;case 8:case 9:return e.abrupt("return",this.inputStr(a));case 10:case 11:return e.abrupt("return",this.inputInt(a));case 12:return e.abrupt("return",this.inputTons(a));case 13:return e.abrupt("return",this.inputBoolean(a));case 14:return e.abrupt("return",this.print(a));case 15:throw new Error("Function does not exist on interface: Terminal");case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),De=function(){function e(){Object(ne.a)(this,e),this.id="ac1a4d3ecea232e49783df4a23a81823cdca3205dc58cd20c4db259c25605b48",this.abi=Ne}return Object(ae.a)(e,[{key:"select",value:function(e){var t=e.value,n=t.description,a=t.title,r=t.items,c={title:Object($.a)(a),text:Object($.a)(n),menuItems:r.map((function(e){return{functionId:e.handlerId,title:Object($.a)(e.title),description:Object($.a)(e.description)}})),component:y.COMPONENTS_BINDINGS.MENU,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(c))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="select"===e.t0?8:9;break;case 8:return e.abrupt("return",this.select(a));case 9:throw new Error("Function does not exist on interface: Menu");case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ce=n(29),Be=function(){function e(){Object(ne.a)(this,e),this.id="a1d347099e29c1624c8890619daf207bde18e92df5220a54bcc6d858309ece84",this.abi=we}return Object(ae.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r=Object(Ce.a)(t,["answerId","prompt"]),c={text:Object($.a)(a),functionId:n,config:r,component:y.COMPONENTS_BINDINGS.AMOUNT_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(c))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:9;break;case 8:return e.abrupt("return",this.get(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ae=function(){function e(){Object(ne.a)(this,e),this.id="16653eaf34c921467120f2685d425ff963db5cbb5aa676a62a2e33bfc3f6828a",this.abi=ye}return Object(ae.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:Object($.a)(a),functionId:n,component:y.COMPONENTS_BINDINGS.CONFIRM_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(r))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:9;break;case 8:return e.abrupt("return",this.get(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Re=function(){function e(){Object(ne.a)(this,e),this.id="d7ed1bd8e6230871116f4522e58df0a93c5520c56f4ade23ef3d8919a984653b",this.abi=Ee}return Object(ae.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r={text:a?Object($.a)(a):"",functionId:n,component:y.COMPONENTS_BINDINGS.ADDRESS_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(r))}},{key:"select",value:function(e){return this.get(e)}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:"select"===e.t0?9:10;break;case 8:return e.abrupt("return",this.get(a));case 9:return e.abrupt("return",this.select(a));case 10:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Me=function(){function e(){Object(ne.a)(this,e),this.id="c5a9558b2664aed7dc3e6123436d544f13ffe69ab0e259412f48c6d1c8588401",this.abi=ke}return Object(ae.a)(e,[{key:"get",value:function(e){var t=e.value,n=t.answerId,a=t.prompt,r=Object(Ce.a)(t,["answerId","prompt"]),c={text:Object($.a)(a),functionId:n,config:r,component:y.COMPONENTS_BINDINGS.AMOUNT_INPUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(c))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="get"===e.t0?8:9;break;case 8:return e.abrupt("return",this.get(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Le=function(){function e(){Object(ne.a)(this,e),this.id="f6927c0d4bdb69e1b52d27f018d156ff04152f00558042ff674f0fec32e4369d",this.abi=Ie}return Object(ae.a)(e,[{key:"echo",value:function(e){var t=e.debotAddress,n=e.value,a=n.answerId,r=n.request,c=Object($.a)(r),s=Q(c),i="".concat(y.DEBOT_WC,":").concat(this.id);Ue.callDebotFunction(t,i,a,{response:s}).catch((function(e){console.error(e);var t={text:e.message,component:y.COMPONENTS_BINDINGS.TEXT,isError:!0,interfaceAddress:i};R.dispatch(O(t))}))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="echo"===e.t0?8:9;break;case 8:return e.abrupt("return",this.echo(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pe=function(){function e(){Object(ne.a)(this,e),this.id="c91dcc3fddb30485a3a07eb7c1e5e2aceaf75f4bc2678111de1f25291cdda80b",this.abi=Se}return Object(ae.a)(e,[{key:"print",value:function(e){var t=e.value.message,n={text:Object($.a)(t),component:y.COMPONENTS_BINDINGS.STDOUT,interfaceAddress:"".concat(y.DEBOT_WC,":").concat(this.id)};R.dispatch(O(n))}},{key:"call",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.abi.decode_message({abi:{type:"Contract",value:this.abi},message:t.message});case 3:n=e.sent,a=Object(d.a)(Object(d.a)({},t),n),e.t0=n.name,e.next="print"===e.t0?8:9;break;case 8:return e.abrupt("return",this.print(a));case 9:throw new Error("Function does not exist on interface: ".concat(this.constructor.name));case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error("Interface execution failed: ",e.t1);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),We=new(function(){function e(){Object(ne.a)(this,e);var t=new Te,n=new De,a=new Be,r=new Ae,c=new Re,s=new Me,i=new Le,o=new Pe;this.state=new Map([[t.id,t],[n.id,n],[a.id,a],[r.id,r],[c.id,c],[s.id,s],[i.id,i],[o.id,o]])}return Object(ae.a)(e,[{key:"delegateToInterface",value:function(e,t){var n,a=this.state.get(e);console.log("Calling ".concat(null===a||void 0===a||null===(n=a.constructor)||void 0===n?void 0:n.name," by id: ").concat(e));try{a.call(t)}catch(r){console.error("Interface with id ".concat(e," is not implemented"))}}}]),e}()),Fe=function(){function e(){Object(ne.a)(this,e),this.debot_handle=null,this.debot_abi=null,this.info=null,this.deprecatedMessageTimeout=null}return Object(ae.a)(e,[{key:"setDebotParams",value:function(e){var t=e.debot_handle,n=e.debot_abi,a=e.info;this.debot_handle=t,this.debot_abi=n,this.info=a}},{key:"showDeprecatedMessage",value:function(){var e=this;this.deprecatedMessageTimeout&&clearTimeout(this.deprecatedMessageTimeout),this.deprecatedMessageTimeout=setTimeout((function(){e.deprecatedMessageTimeout=null;var t={text:"This DeBot is deprecated and therefore no longer supported.",component:y.COMPONENTS_BINDINGS.TEXT,isError:!0};R.dispatch(O(t))}),1e3)}},{key:"log",value:function(e){var t={debot_handle:this.debot_handle,debot_abi:this.debot_abi,info:this.info};if(console.log(t,e),e.msg){var n={text:e.msg,component:y.COMPONENTS_BINDINGS.TEXT};R.dispatch(O(n))}}},{key:"show_action",value:function(){this.showDeprecatedMessage()}},{key:"input",value:function(){this.showDeprecatedMessage()}},{key:"get_signing_box",value:function(){var e=Object(H.a)(X.a.mark((function e(){var t,n,a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e){R.dispatch(x({submit:e}))})),e.next=3,t;case 3:return n=e.sent,e.next=6,se.client.crypto.get_signing_box(n);case 6:return a=e.sent,r=a.handle,R.dispatch(x(null)),e.abrupt("return",{signing_box:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"invoke_debot",value:function(){this.showDeprecatedMessage()}},{key:"send",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a,r,c,s,i,o,u,l,p,b;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.client.boc.parse_message({boc:t.message});case 3:if(n=e.sent,a=n.parsed,r=a.dst,c=a.src,s=a.dst_workchain_id,i=r.split(":"),o=Object(q.a)(i,2),u=o[1],s!==y.DEBOT_WC){e.next=10;break}We.delegateToInterface(u,Object(d.a)({debotAddress:c},t)),e.next=17;break;case 10:return console.log("Call other debot",n,t),e.next=13,Ue.initDebot(r);case 13:return l=e.sent,p=l.debot_handle,e.next=17,Ue.debotModule.send({debot_handle:p,message:t.message});case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0),b={text:e.t0.message,component:y.COMPONENTS_BINDINGS.TEXT,isError:!0},R.dispatch(O(b));case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e){R.dispatch(g({submit:e,params:t.activity}))})),e.next=3,n;case 3:return a=e.sent,R.dispatch(g(null)),e.abrupt("return",{approved:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ue=new(function(){function e(){Object(ne.a)(this,e),this.mainDebotModule=new re.DebotModule(se.mainNetClient),this.devDebotModule=new re.DebotModule(se.devNetClient),this.storage=new Map}return Object(ae.a)(e,[{key:"debotModule",get:function(){return se.selectedNetwork===y.DEV_NETWORK?this.devDebotModule:this.mainDebotModule}},{key:"initDebot",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Fe,e.next=3,this.debotModule.init({address:t},n);case 3:return a=e.sent,n.setDebotParams(a),this.storage.set(t,a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"runDebot",value:function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initDebot(t);case 2:return n=e.sent,a=n.debot_handle,e.next=6,this.debotModule.start({debot_handle:a});case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callDebotFunction",value:function(){var e=Object(H.a)(X.a.mark((function e(t,n,a,r){var c,s,i,o,u,l,d;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.storage.get(t),s=c.debot_handle,i=c.debot_abi,a&&(u=ue(a),o={function_name:u},r&&(o.input=r)),e.next=5,se.client.abi.encode_internal_message({abi:{type:"Json",value:i},address:t,src_address:n,call_set:o,value:"1000000000000000"});case 5:return l=e.sent,e.prev=6,e.next=9,this.debotModule.send({debot_handle:s,message:l.message});case 9:return d=e.sent,e.abrupt("return",d);case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0),R.dispatch(O({text:e.t0.message,component:y.COMPONENTS_BINDINGS.TEXT,isError:!0}));case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"reloadDebot",value:function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.dispatch(_()),R.dispatch(g(null)),R.dispatch(x(null)),e.abrupt("return",this.runDebot(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Ke=n(47),Ge=n(45),Ve=(n(78),function(e){var t=e.params,n=he(),r=t.text,c=t.functionId,s=t.interfaceAddress,i=t.isError;Object(a.useEffect)((function(){c&&"0"!==c&&function(){var e=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.callDebotFunction(n,s,c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var o="stage-component__text ".concat(i?"stage-component__text--error":"");return Object(L.jsx)("div",{className:o,children:r})}),Je=(n(79),function(e){var t=e.params,n=e.type,r=void 0===n?"text":n,c=e.isMultiline,s=void 0!==c&&c,i=e.customCallback,o=e.customErrorText,u=e.setCustomErrorText,l=he(),d=Object(a.useState)(""),p=Object(q.a)(d,2),b=p[0],f=p[1],v=Object(a.useState)(""),m=Object(q.a)(v,2),h=m[0],j=m[1],O=Object(a.useRef)(null),_=t.text,x=t.interfaceAddress,g=t.functionId;Object(a.useEffect)((function(){var e;null===O||void 0===O||null===(e=O.current)||void 0===e||e.focus()}),[]);var N=function(e){f(e.target.value),j(""),u&&u("")},w=function(){var e=Object(H.a)(X.a.mark((function e(t){var n,a,r,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.shiftKey,a=t.key,r=t.altKey,!("Enter"===a&&!n&&!r&&!h&&b&&!o)){e.next=17;break}if(t.preventDefault(),e.prev=6,!i){e.next=9;break}return e.abrupt("return",i(b));case 9:return c=pe(b)||b,e.next=12,Ue.callDebotFunction(l,x,g,{value:Q(c)});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),j(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),y="stage-component__input ".concat(h||o?"stage-component__input--error":"");return Object(L.jsxs)("div",{className:"stage-component__input-container",children:[!!_&&Object(L.jsx)("span",{className:"stage-component__input-label",children:_}),s?Object(L.jsx)("textarea",{className:y,type:r,placeholder:"Enter...",value:b,onChange:N,onKeyPress:w,ref:O}):Object(L.jsx)("input",{className:y,type:r,placeholder:"Enter...",value:b,onChange:N,onKeyPress:w,ref:O}),!!h&&Object(L.jsx)("span",{className:"stage-component__input-error",children:h}),!!o&&Object(L.jsx)("span",{className:"stage-component__input-error",children:o})]})}),Xe=function(e){var t=e.params,n=e.type,a=void 0===n?"text":n;return Object(L.jsx)(Je,{params:t,type:a,isMultiline:!0})};function He(e){if(!e||"0"===e)return"1";for(var t=parseInt(e,10),n="0.",a=1;a<t;a++)n+="0";return n+="1"}var qe=function(e){var t=e.params,n=e.customCallback,r=e.customErrorText,c=e.setCustomErrorText,s=he(),i=Object(a.useState)(""),o=Object(q.a)(i,2),u=o[0],l=o[1],p=Object(a.useState)(""),b=Object(q.a)(p,2),f=b[0],v=b[1],m=Object(a.useRef)(null),h=t.text,j=t.functionId,O=t.interfaceAddress,_=t.config,x=void 0===_?{}:_,g={min:x.min,max:x.max,step:He(x.decimals)},N=function(e){return e.min&&e.max?"Input value must be greater than ".concat(e.min," and less than (or equal) ").concat(e.max):e.min?"Input value must be greater than ".concat(e.min):!!e.max&&"Input value must be less than (or equal) ".concat(e.max)}(x);Object(a.useEffect)((function(){var e;null===m||void 0===m||null===(e=m.current)||void 0===e||e.focus()}),[]);var w=function(){var e=Object(H.a)(X.a.mark((function e(t){var a,r,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.shiftKey,r=t.key,c=t.altKey,!("Enter"===r&&!a&&!c&&!f&&u)){e.next=15;break}if(t.preventDefault(),e.prev=5,!n){e.next=8;break}return e.abrupt("return",n(u));case 8:return e.next=10,Ue.callDebotFunction(s,O,j,{value:Q(u)});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),v(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),y="stage-component__input ".concat(f?"stage-component__input--error":"");return Object(L.jsxs)("div",{className:"stage-component__input-container",children:[!!h&&Object(L.jsx)("span",{className:"stage-component__input-label",children:h}),!!N&&Object(L.jsx)("div",{className:"stage-component__input-description",children:N}),Object(L.jsx)("input",Object(d.a)({className:y,type:"number",placeholder:"Enter...",value:u,onChange:function(e){var t=e.target.value;if(""===t)return l(e.target.value),v(""),void(c&&c(""));if(x.decimals&&"0"!==x.decimals){var n=t.split("."),a=Object(q.a)(n,2)[1];if(a&&parseInt(x.decimals)<a.length)return void v("Too many decimals")}else if(t.includes("."))return void v("This input does not support decimals");var r=parseFloat(t),s=x.max&&r>x.max||x.min&&r<x.min;t.includes("e")?v("Input includes not valid characters"):s?v(N):(l(e.target.value),v(""),c&&c(""))},onKeyPress:w,ref:m},g)),f&&Object(L.jsx)("span",{className:"stage-component__input-error",children:f}),!!r&&Object(L.jsx)("span",{className:"stage-component__input-error",children:r})]})},Ye=(n(80),function(e){var t=e.params,n=void 0===t?{}:t,a=e.approveCallback,r=he(),c=n.functionId,s=n.interfaceAddress,i=n.text,o=function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=3;break}return e.abrupt("return",a(t));case 3:return e.next=5,Ue.callDebotFunction(r,s,c,{value:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"stage-component__confirm-input-container",children:[!!i&&Object(L.jsx)("div",{className:"stage-component__confirm-input-label",children:i}),Object(L.jsx)("div",{onClick:function(){return o(!0)},className:"stage-component__confirm-input-button",children:"Confirm"}),Object(L.jsx)("div",{onClick:function(){return o(!1)},className:"stage-component__confirm-input-button stage-component__confirm-input-button--decline",children:"Decline"})]})}),ze=function(e){var t=e.params,n=he(),r=Object(a.useState)(""),c=Object(q.a)(r,2),s=c[0],i=c[1],o=t.interfaceAddress,u=t.functionId,l=function(){var e=Object(H.a)(X.a.mark((function e(t){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=pe(t)||t,e.next=4,oe(a);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",i("Invalid address"));case 7:return e.next=9,Ue.callDebotFunction(n,o,u,{value:a});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(Je,{customCallback:l,customErrorText:s,setCustomErrorText:i,params:t})},Ze=function(e){var t=e.params,n=he(),r=Object(a.useState)(""),c=Object(q.a)(r,2),s=c[0],i=c[1],o=t.functionId,u=t.interfaceAddress,l=function(){var e=Object(H.a)(X.a.mark((function e(t){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(1e9*parseFloat(t)).toString(),e.next=4,Ue.callDebotFunction(n,u,o,{value:Q(a)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(qe,{params:t,customCallback:l,customErrorText:s,setCustomErrorText:i})},$e=(n(81),function(e){var t=e.params,n=he(),r=Object(a.useState)(""),c=Object(q.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(!1),u=Object(q.a)(o,2),l=u[0],d=u[1],p=Object(a.useState)(!1),b=Object(q.a)(p,2),f=b[0],v=b[1],m=t.text,h=t.title,j=t.interfaceAddress,O=t.menuItems,_=Object(a.useCallback)(function(){var e=Object(H.a)(X.a.mark((function e(t,a){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.callDebotFunction(n,j,t.functionId,{index:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),i(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),[n,j]);return Object(a.useLayoutEffect)((function(){var e=O.map((function(e,t){var n=e.title;return e.description&&(n+=" (".concat(e.description,")")),Object(L.jsx)("div",{onClick:function(){return _(e,t)},className:"stage-component__menu-item",children:n},"".concat(e.functionId,"-").concat(t))}));e.length>7&&(f?e.push(Object(L.jsx)("div",{onClick:function(){return v(!1)},className:"stage-component__menu-item",children:"Hide"},"hide-btn")):(e=e.slice(0,7)).push(Object(L.jsx)("div",{onClick:function(){return v(!0)},className:"stage-component__menu-item",children:"Show more"},"show-more-btn"))),d(e)}),[O,_,f]),Object(L.jsxs)("div",{className:"stage-component__menu-container",children:[Object(L.jsx)("div",{className:"stage-component__menu-title",children:h}),Object(L.jsx)("div",{className:"stage-component__menu-description",children:m}),Object(L.jsx)("div",{className:"stage-component__menu-list",children:l}),s&&Object(L.jsx)("span",{className:"stage-component__menu-error",children:s})]})}),Qe=function(e){var t=e.params,n=he(),r=t.text,c=t.interfaceAddress;return Object(a.useEffect)((function(){(function(){var e=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.callDebotFunction(n,c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(L.jsx)("div",{className:"stage-component__text",children:r})},et=(n(82),function(e){Object(Ke.a)(n,e);var t=Object(Ge.a)(n);function n(){var e,r;Object(ne.a)(this,n);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(r=t.call.apply(t,[this].concat(s))).stageRef=Object(a.createRef)(null),r.stageComponents=(e={},Object(z.a)(e,y.COMPONENTS_BINDINGS.INPUT,Je),Object(z.a)(e,y.COMPONENTS_BINDINGS.TEXTAREA,Xe),Object(z.a)(e,y.COMPONENTS_BINDINGS.AMOUNT_INPUT,qe),Object(z.a)(e,y.COMPONENTS_BINDINGS.CONFIRM_INPUT,Ye),Object(z.a)(e,y.COMPONENTS_BINDINGS.ADDRESS_INPUT,ze),Object(z.a)(e,y.COMPONENTS_BINDINGS.TOKENS_INPUT,Ze),Object(z.a)(e,y.COMPONENTS_BINDINGS.TEXT,Ve),Object(z.a)(e,y.COMPONENTS_BINDINGS.STDOUT,Qe),Object(z.a)(e,y.COMPONENTS_BINDINGS.MENU,$e),e),r.formStageComponents=function(){return r.props.stage.map((function(e,t){var n=r.stageComponents[e.component];return Object(L.jsx)(n,{params:e},"".concat(e.functionId,"-").concat(t))}))},r}return Object(ae.a)(n,[{key:"componentDidUpdate",value:function(e){var t,n=this;e.stage.length!==this.props.stage.length&&((null===(t=this.stageRef)||void 0===t?void 0:t.current)&&setTimeout((function(){return n.stageRef.current.scrollTop=n.stageRef.current.scrollHeight}),0))}},{key:"render",value:function(){var e=this.props,t=e.stage,n=e.isDebotError;if(!t.length)return Object(L.jsx)(dt,{isFailed:n});var a=this.formStageComponents(),r="stage ".concat(ve()?"with-custom-scrollbar":"");return Object(L.jsx)("div",{ref:this.stageRef,className:r,children:Object(L.jsx)("div",{className:"stage__container",children:a})})}}]),n}(a.Component)),tt=Object(i.b)((function(e){return{stage:e.debot.stage}}))(et),nt=(n(83),function(){var e=Object(i.c)(),t=he(),n=Object(a.useState)(!1),r=Object(q.a)(n,2),c=r[0],s=r[1],o=Object(i.d)((function(e){return!!e.debot.signingBox})),u=Object(i.d)((function(e){return!!e.debot.approveWindow})),l=Object(i.d)((function(e){return!!e.debot.localDebotsList.find((function(e){return e.address===t}))}));if(Object(a.useEffect)((function(){return function(){var e=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.prev=1,e.next=4,Ue.runDebot(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s(!0),console.error("Error while running debot: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()(),function(){e(_())}}),[t,e]),!t)return Object(L.jsx)(M.a,{to:"/"});var d=function(){var e=Object(H.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ue.reloadDebot(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),s(!0),console.error("Error while running debot: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),p="debot-page ".concat(o||u?"debot-page--scroll-disabled":"");return Object(L.jsxs)("div",{className:p,children:[Object(L.jsxs)("div",{className:"debot-page__controls",children:[Object(L.jsx)("div",{className:"debot-page__controls-item",onClick:d,children:"Restart DeBot"}),l?Object(L.jsx)("div",{className:"debot-page__controls-item",onClick:function(){return be(t)},children:"Remove from Saved"}):Object(L.jsx)(ut,{height:310,width:500,name:"Save DeBot",children:Object(L.jsx)(it,{prefilledAddress:t})}),Object(L.jsx)(ut,{height:472,width:650,name:"Show Environment",children:Object(L.jsx)(ot,{})})]}),Object(L.jsx)(tt,{isDebotError:c}),o&&Object(L.jsx)(at,{}),u&&Object(L.jsx)(ct,{})]})}),at=(n(84),function(){var e=Object(a.useState)(""),t=Object(q.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(q.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(q.a)(l,2),p=d[0],b=d[1],f=Object(a.useState)(!1),v=Object(q.a)(f,2),m=v[0],h=v[1],j=Object(i.d)((function(e){return e.debot.signingBox})),O=function(){var e=Object(H.a)(X.a.mark((function e(t){var a,r,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.shiftKey,r=t.key,c=t.altKey,"Enter"===r&&!a&&!c&&n){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,de(n);case 8:s=e.sent,j.submit(s),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error when getting keys from mnemonic: ",e.t0),u("Error when getting keys from secret phrase");case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){e.preventDefault(),e.stopPropagation()};return Object(L.jsx)("div",{className:"signing-box",children:Object(L.jsxs)("div",{className:"signing-box__container",children:[Object(L.jsx)("div",{className:"signing-box__header",children:"Signing Box"}),Object(L.jsxs)("div",{className:"signing-box__description",children:["We ",Object(L.jsx)("b",{children:"DON'T"})," store your keys or seed phrase."]}),Object(L.jsxs)("div",{className:"signing-box__input-container",children:[Object(L.jsx)("div",{className:"signing-box__input-label",children:"Enter seed phrase:"}),Object(L.jsx)("textarea",{className:"signing-box__input ".concat(o?"signing-box__input--error":""),type:"text",value:n,onChange:function(e){r(e.target.value),u("")},onKeyPress:O}),o&&Object(L.jsx)("span",{className:"signing-box__input-error",children:o})]}),Object(L.jsx)("div",{className:"signing-box__devider",children:"OR"}),Object(L.jsxs)("div",{className:"signing-box__upload-keys ".concat(p?"signing-box__upload-keys--dropable":""),onDragEnter:function(e){_(e),b(!0)},onDrop:function(e){_(e),b(!1);var t=e.dataTransfer.files;if(t&&t.length>1)return h(!0);var n=new FileReader;n.onabort=function(){return h(!0)},n.onerror=function(){return h(!0)},n.onload=function(e){try{var t=e.target.result,n=JSON.parse(t);j.submit(n),h(!1)}catch(a){h(!0)}},n.readAsText(t[0])},onDragOver:_,children:[Object(L.jsx)("input",{type:"file",id:"upload-input",hidden:!0}),Object(L.jsxs)("label",{htmlFor:"upload-input",children:[Object(L.jsx)("img",{src:"/uploadKeys.jpg",alt:"Click here to upload"}),"Upload keypair file"]}),Object(L.jsx)("div",{className:"signing-box__upload-keys-dropable-overlay ".concat(p?"signing-box__upload-keys-dropable-overlay--active":""),onDragLeave:function(e){_(e),b(!1)}}),m&&Object(L.jsx)("span",{className:"signing-box__upload-keys--error",children:"Not recognized"})]})]})})}),rt=(n(85),function(e){return e/1e9}),ct=function(){var e=Object(i.d)((function(e){return e.debot.approveWindow})),t=e.params,n=t.dst,a=t.fee,r=t.out,c=t.setcode,s=t.signkey,o=!!r.length;return Object(L.jsx)("div",{className:"approve-window",children:Object(L.jsxs)("div",{className:"approve-window__container",children:[Object(L.jsx)("div",{className:"approve-window__header",children:"Permission Request"}),Object(L.jsx)("div",{className:"approve-window__description",children:"DeBot is going to create an onchain transaction:"}),Object(L.jsxs)("div",{className:"approve-window__details",children:[Object(L.jsxs)("div",{className:"approve-window__details-row",children:[Object(L.jsx)("div",{className:"approve-window__details-col approve-window__details-col--title",children:"Account:"}),Object(L.jsx)("div",{className:"approve-window__details-col",children:Object(L.jsx)("a",{href:te(n),target:"_blank",rel:"noreferrer",children:n})})]}),Object(L.jsxs)("div",{className:"approve-window__details-row",children:[Object(L.jsx)("div",{className:"approve-window__details-col approve-window__details-col--title",children:"Transaction fees:"}),Object(L.jsxs)("div",{className:"approve-window__details-col",children:[rt(a)," tokens"]})]}),Object(L.jsxs)("div",{className:"approve-window__details-row",children:[Object(L.jsx)("div",{className:"approve-window__details-col approve-window__details-col--title",children:"Message signer public key:"}),Object(L.jsx)("div",{className:"approve-window__details-col",children:s})]})]}),o?Object(L.jsx)("div",{className:"approve-window__details-description",children:"Outgoing transfers from account:"}):Object(L.jsx)("div",{className:"approve-window__details-description",children:"No outgoing transfers."}),o&&Object(L.jsxs)("div",{className:"approve-window__transfers",children:[Object(L.jsxs)("div",{className:"approve-window__transfers-row",children:[Object(L.jsx)("div",{className:"approve-window__transfers-col approve-window__transfers-col--title",children:"Recipient"}),Object(L.jsx)("div",{className:"approve-window__transfers-col approve-window__transfers-col--title",children:"Amount"})]}),r.map((function(e,t){var n=e.recipient||e.dst;return Object(L.jsxs)("div",{className:"approve-window__transfers-row",children:[Object(L.jsx)("div",{className:"approve-window__transfers-col",children:Object(L.jsx)("a",{href:te(n),target:"_blank",rel:"noreferrer",children:n})}),Object(L.jsxs)("div",{className:"approve-window__transfers-col",children:[rt(e.amount)," tokens"]})]},"".concat(n,"-").concat(t))}))]}),!!c&&Object(L.jsx)("div",{className:"approve-window__details-description approve-window__details-description--warning",children:"Warning: the transaction will change the account smart contract code!"}),Object(L.jsx)("div",{className:"approve-window__confirm",children:Object(L.jsx)(Ye,{approveCallback:function(t){return e.submit(t)}})})]})})},st=r.a.createContext(null),it=(n(86),function(e){var t=e.prefilledAddress,n=void 0===t?"":t,r=Object(a.useContext)(st),c=Object(a.useState)(""),s=Object(q.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(n),l=Object(q.a)(u,2),d=l[0],p=l[1],b=Object(a.useState)(se.selectedNetwork),f=Object(q.a)(b,2),v=f[0],m=f[1];return Object(L.jsxs)("div",{className:"add-debot",children:[Object(L.jsxs)("div",{className:"add-debot__horizontal-inputs",children:[Object(L.jsxs)("div",{className:"stage-component__input-container",children:[Object(L.jsx)("span",{className:"stage-component__input-label",children:"DeBot name"}),Object(L.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Enter...",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(L.jsxs)(lt,{selectedItem:Object(L.jsxs)("div",{className:"options-list__selected-item",children:[v===y.DEV_NETWORK?Object(L.jsx)(G,{}):Object(L.jsx)(V,{}),v]}),height:84,width:200,children:[Object(L.jsxs)("div",{className:"options-list__list-item",onClick:function(){return m(y.MAIN_NETWORK)},children:[Object(L.jsx)(V,{}),y.MAIN_NETWORK]}),Object(L.jsxs)("div",{className:"options-list__list-item",onClick:function(){return m(y.DEV_NETWORK)},children:[Object(L.jsx)(G,{}),y.DEV_NETWORK]})]})]}),Object(L.jsxs)("div",{className:"stage-component__input-container",children:[Object(L.jsx)("span",{className:"stage-component__input-label",children:"DeBot address"}),Object(L.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Enter...",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(L.jsx)("div",{onClick:function(){i&&d&&(Y({title:i,address:d,network:v}),r&&r.closePopup())},className:"add-debot__submit-button",children:"Add to list"})]})}),ot=(n(87),function(){var e=Object(i.d)((function(e){return e.environment.variables})),t=Object.entries(e),n=Object(a.useState)(""),r=Object(q.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),u=Object(q.a)(o,2),l=u[0],d=u[1],p=Object(a.useState)(!1),b=Object(q.a)(p,2),f=b[0],v=b[1],m=function(){var e=Object(H.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:v(!0),setTimeout((function(){return v(!1)}),2e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Clipboard API not supported");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h="environment__copied-indicator ".concat(f?"environment__copied-indicator--visible":"");return Object(L.jsxs)("div",{className:"environment",children:[Object(L.jsx)("div",{className:"environment__table--wrapper ".concat(ve()?"with-custom-scrollbar":""),children:t.length?Object(L.jsx)("div",{className:"environment__table",children:t.map((function(e){var t=Object(q.a)(e,2),n=t[0],a=t[1];return Object(L.jsxs)("div",{className:"environment__table-row",children:[Object(L.jsx)("div",{className:"environment__table-col environment__table-col--cancel",children:Object(L.jsx)(K,{onClick:function(e){return function(e,t){e.stopPropagation(),fe(t)}(e,n)}})}),Object(L.jsx)("div",{className:"environment__table-col environment__table-col--title",children:n}),Object(L.jsx)("div",{className:"environment__table-col environment__table-col--clickable",onClick:function(){return m(a)},children:a})]},n)}))}):Object(L.jsxs)("div",{className:"environment__image",children:[Object(L.jsx)("img",{src:"/env-icon.svg",alt:"Environment"}),Object(L.jsx)("div",{className:"environment__image-text",children:"Here you can store something to use it later (address or public key, for example)."}),Object(L.jsx)("div",{className:"environment__image-text environment__image-text--warning",children:"This storage is not encrypted, so you should not store private keys or seed-phrase here."})]})}),Object(L.jsxs)("div",{className:"environment__input-container",children:[Object(L.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Key",value:c,onChange:function(e){return s(e.target.value)}}),Object(L.jsx)("span",{className:"environment__divider",children:":"}),Object(L.jsx)("input",{className:"stage-component__input",type:"text",placeholder:"Value",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(L.jsxs)("div",{className:"environment__footer",children:[Object(L.jsx)("div",{className:h,children:"Copied to clipboard!"}),Object(L.jsx)("div",{onClick:function(){c&&l&&(Z(c,l),s(""),d(""))},className:"environment__submit-button",children:"Add variable"})]})]})}),ut=(n(88),function(e){var t=e.children,n=e.name,r=e.height,c=void 0===r?252:r,s=e.width,i=void 0===s?460:s,o=Object(a.useRef)(null),u=Object(a.useState)(!1),l=Object(q.a)(u,2),d=l[0],p=l[1],b=function(){return p(!1)},f=Object(a.useCallback)((function(e){d&&(null===o||void 0===o?void 0:o.current)&&!o.current.contains(e.target)&&b()}),[d]);Object(a.useEffect)((function(){return document.addEventListener("click",f),function(){document.removeEventListener("click",f)}}),[f]);var v="control-with-popup__container ".concat(d?"control-with-popup__container--visible":""),m="control-with-popup ".concat(d?"control-with-popup--active":""),h={"--height":"".concat(c,"px"),"--width":"".concat(i,"px")};return Object(L.jsxs)("div",{ref:o,className:m,children:[Object(L.jsx)("div",{onClick:function(){return p(!d)},className:"control-with-popup__label",children:n}),Object(L.jsx)("div",{className:v,style:h,children:Object(L.jsx)(st.Provider,{value:{closePopup:b},children:d&&t})})]})}),lt=(n(89),function(e){var t=e.children,n=e.selectedItem,r=e.height,c=void 0===r?252:r,s=e.width,i=void 0===s?245:s,o=Object(a.useRef)(null),u=Object(a.useState)(!1),l=Object(q.a)(u,2),d=l[0],p=l[1],b=Object(a.useCallback)((function(e){var t;!(null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.contains(e.target))&&d&&p(!1)}),[d]);Object(a.useEffect)((function(){return document.addEventListener("click",b),function(){document.removeEventListener("click",b)}}),[b]);var f="options-list__list ".concat(d?"options-list__list--visible":""),v="options-list ".concat(d?"options-list--active":"");return Object(L.jsxs)("div",{ref:o,onClick:function(){return p(!d)},className:v,style:{"--width":"".concat(i,"px")},children:[n,Object(L.jsx)(F,{}),Object(L.jsx)("div",{className:f,style:{"--height":"".concat(c,"px")},children:t})]})}),dt=(n(90),function(e){var t=e.isFailed,n=t?"/load-failed.png":"/loader.gif",a=t?"Nothing here :(":"Loading...";return Object(L.jsx)("div",{className:"loader",children:Object(L.jsx)("img",{className:"loader__cat",src:n,alt:a})})}),pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ft;n(91);(n(92).config(),ve())&&(null===(ft=document.querySelector("body"))||void 0===ft||ft.classList.add("with-custom-scrollbar"));s.a.render(Object(L.jsx)(i.a,{store:R,children:Object(L.jsx)(o.a,{children:Object(L.jsx)(P,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):bt(t,e)}))}}()}},[[95,1,2]]]);
//# sourceMappingURL=main.49ee0f30.chunk.js.map